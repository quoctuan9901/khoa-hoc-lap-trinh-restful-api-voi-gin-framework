{
    "level": "error",
    "path": "/api/v1/users/93ea7cb3-1134-4dfa-ae24-ec70ee1eed2b",
    "method": "GET",
    "client_ip": "::1",
    "panic": "runtime error: invalid memory address or nil pointer dereference",
    "statck_at": "/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/auth_middleware.go:30",
    "statck": "goroutine 12 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x5e\nuser-management-api/internal/routes.RegisterRoutes.RecoveryMiddleware.func6.1()\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/recovery_middleware.go:20 +0x58\npanic({0xd056720?, 0xd5f7130?})\n\t/usr/local/go/src/runtime/panic.go:792 +0x132\nuser-management-api/internal/routes.RegisterRoutes.AuthMiddleware.func7(0xc0000b0200)\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/auth_middleware.go:30 +0xdf\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185\nuser-management-api/internal/middleware.ApiKeyMiddleware.func1(0xc0000b0200)\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/api_key_middleware.go:28 +0x1d1\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0000b0200)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185 +0x2b\nuser-management-api/internal/routes.RegisterRoutes.RecoveryMiddleware.func6(0xd10e760?)\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/recovery_middleware.go:40 +0x48\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0000b0200)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185 +0x2b\nuser-management-api/internal/routes.RegisterRoutes.LoggerMiddleware.func5(0xc0000b0200)\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/logger_middleware.go:95 +0x21f\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0000b0200)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185 +0x2b\nuser-management-api/internal/routes.RegisterRoutes.TraceMiddleware.func4(0xc0000b0200)\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/trace_middleware.go:26 +0x150\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0000b0200)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185 +0x2b\nuser-management-api/internal/routes.RegisterRoutes.CORSMiddleware.func3(0xc0000b0200)\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/cors_middleware.go:22 +0x146\ngithub.com/gin-gonic/gin.(*Context).Next(0xc0000b0200)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185 +0x2b\nuser-management-api/internal/routes.RegisterRoutes.RateLimiterMiddleware.func2(0xc0000b0200)\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/rate_limiter_middleware.go:97 +0x2fe\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185\ngithub.com/gin-contrib/gzip.(*gzipHandler).Handle(0xc000322bd0, 0xc0000b0200)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-contrib/gzip@v1.2.3/handler.go:99 +0x3ad\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1(0xc0000b0200)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/recovery.go:102 +0x6f\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc0000b0200)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/logger.go:249 +0xe5\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc000139520, 0xc0000b0200)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/gin.go:644 +0x872\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc000139520, {0xd15a2c8, 0xc0000000e0}, 0xc0000a63c0)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/gin.go:600 +0x1aa\nnet/http.serverHandler.ServeHTTP({0xc0000b28d0?}, {0xd15a2c8?, 0xc0000000e0?}, 0x1?)\n\t/usr/local/go/src/net/http/server.go:3301 +0x8e\nnet/http.(*conn).serve(0xc0000ce1b0, {0xd15b6a8, 0xc0000b26f0})\n\t/usr/local/go/src/net/http/server.go:2102 +0x625\ncreated by net/http.(*Server).Serve in goroutine 10\n\t/usr/local/go/src/net/http/server.go:3454 +0x485\n",
    "time": "2025-07-13T22:25:48+07:00",
    "message": "panic occurred"
}
{
    "level": "error",
    "path": "/api/v1/users/93ea7cb3-1134-4dfa-ae24-ec70ee1eed2b",
    "method": "GET",
    "client_ip": "::1",
    "panic": "runtime error: invalid memory address or nil pointer dereference",
    "statck_at": "/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/auth_middleware.go:32",
    "statck": "goroutine 102 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x5e\nuser-management-api/internal/routes.RegisterRoutes.RecoveryMiddleware.func6.1()\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/recovery_middleware.go:20 +0x58\npanic({0x46bd720?, 0x4c5e130?})\n\t/usr/local/go/src/runtime/panic.go:792 +0x132\nuser-management-api/internal/routes.RegisterRoutes.AuthMiddleware.func7(0xc000556000)\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/auth_middleware.go:32 +0xe5\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185\nuser-management-api/internal/middleware.ApiKeyMiddleware.func1(0xc000556000)\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/api_key_middleware.go:28 +0x1d1\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000556000)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185 +0x2b\nuser-management-api/internal/routes.RegisterRoutes.RecoveryMiddleware.func6(0x4775760?)\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/recovery_middleware.go:40 +0x48\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000556000)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185 +0x2b\nuser-management-api/internal/routes.RegisterRoutes.LoggerMiddleware.func5(0xc000556000)\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/logger_middleware.go:95 +0x21f\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000556000)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185 +0x2b\nuser-management-api/internal/routes.RegisterRoutes.TraceMiddleware.func4(0xc000556000)\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/trace_middleware.go:26 +0x150\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000556000)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185 +0x2b\nuser-management-api/internal/routes.RegisterRoutes.CORSMiddleware.func3(0xc000556000)\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/cors_middleware.go:22 +0x146\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000556000)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185 +0x2b\nuser-management-api/internal/routes.RegisterRoutes.RateLimiterMiddleware.func2(0xc000556000)\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/rate_limiter_middleware.go:97 +0x2fe\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185\ngithub.com/gin-contrib/gzip.(*gzipHandler).Handle(0xc00040e9c0, 0xc000556000)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-contrib/gzip@v1.2.3/handler.go:99 +0x3ad\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1(0xc000556000)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/recovery.go:102 +0x6f\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc000556000)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/logger.go:249 +0xe5\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0000b3520, 0xc000556000)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/gin.go:644 +0x872\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0000b3520, {0x47c12c8, 0xc000000000}, 0xc000292000)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/gin.go:600 +0x1aa\nnet/http.serverHandler.ServeHTTP({0xc0005047b0?}, {0x47c12c8?, 0xc000000000?}, 0x6?)\n\t/usr/local/go/src/net/http/server.go:3301 +0x8e\nnet/http.(*conn).serve(0xc00053c1b0, {0x47c26a8, 0xc0005045d0})\n\t/usr/local/go/src/net/http/server.go:2102 +0x625\ncreated by net/http.(*Server).Serve in goroutine 100\n\t/usr/local/go/src/net/http/server.go:3454 +0x485\n",
    "time": "2025-07-13T22:26:30+07:00",
    "message": "panic occurred"
}