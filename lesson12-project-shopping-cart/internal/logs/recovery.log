{"level":"error","path":"/api/v1/users","method":"POST","client_ip":"::1","panic":"runtime error: invalid memory address or nil pointer dereference","statck_at":"/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/repository/user_repository.go:21","statck":"goroutine 5 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:26 +0x5e\nuser-management-api/internal/routes.RegisterRoutes.RecoveryMiddleware.func3.1()\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/recovery_middleware.go:20 +0x58\npanic({0x106545e0?, 0x109eada0?})\n\t/usr/local/go/src/runtime/panic.go:792 +0x132\nuser-management-api/internal/repository.(*SqlUserRepository).Create(0x130?, {0x106dd340?, _}, {{0xc00002a320, 0x1a}, {0xc00002ca00, 0x3c}, {0xc0000105d0, 0xc}, 0xc000010980, ...})\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/repository/user_repository.go:21 +0x82\nuser-management-api/internal/service/v1.(*userService).CreateUser(0xc0001a9960, 0x0?, {{0xc00002a320, 0x1a}, {0xc00002ca00, 0x3c}, {0xc0000105d0, 0xc}, 0xc000010980, 0x1, ...})\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/service/v1/user_service.go:36 +0x22b\nuser-management-api/internal/handler/v1.(*UserHandler).CreateUser(0xc0001a9970, 0xc000162000)\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/handler/v1/user_handler.go:60 +0x203\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000162000)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185 +0x2b\nuser-management-api/internal/routes.RegisterRoutes.AuthMiddleware.func4(0xc00010ae10?)\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/auth_middleware.go:7 +0x13\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185\nuser-management-api/internal/middleware.ApiKeyMiddleware.func1(0xc000162000)\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/api_key_middleware.go:28 +0x1d1\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000162000)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185 +0x2b\nuser-management-api/internal/routes.RegisterRoutes.RecoveryMiddleware.func3(0x106b5120?)\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/recovery_middleware.go:40 +0x48\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000162000)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185 +0x2b\nuser-management-api/internal/routes.RegisterRoutes.LoggerMiddleware.func2(0xc000162000)\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/logger_middleware.go:94 +0x21f\ngithub.com/gin-gonic/gin.(*Context).Next(0xc000162000)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185 +0x2b\nuser-management-api/internal/routes.RegisterRoutes.RateLimiterMiddleware.func1(0xc000162000)\n\t/Users/quoctuan/Desktop/Build-Course/golang-gin-tutorial-course/source-code/lesson12-project-shopping-cart/internal/middleware/rate_limiter_middleware.go:108 +0x2fe\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1(0xc000162000)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/recovery.go:102 +0x6f\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc000162000)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/logger.go:249 +0xe5\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0002111e0, 0xc000162000)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/gin.go:644 +0x872\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0002111e0, {0x106dca78, 0xc0000000e0}, 0xc000152140)\n\t/Users/quoctuan/go/pkg/mod/github.com/gin-gonic/gin@v1.10.1/gin.go:600 +0x1aa\nnet/http.serverHandler.ServeHTTP({0x106daf00?}, {0x106dca78?, 0xc0000000e0?}, 0x6?)\n\t/usr/local/go/src/net/http/server.go:3301 +0x8e\nnet/http.(*conn).serve(0xc00014c1b0, {0x106dd308, 0xc00010abd0})\n\t/usr/local/go/src/net/http/server.go:2102 +0x625\ncreated by net/http.(*Server).Serve in goroutine 3\n\t/usr/local/go/src/net/http/server.go:3454 +0x485\n","time":"2025-06-23T12:02:32+07:00","message":"panic occurred"}
